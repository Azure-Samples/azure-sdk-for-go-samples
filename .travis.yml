language: go
go:
- 1.9.x
- 1.8.x
install:
- go get -u github.com/golang/lint/golint
- go get -u github.com/golang/dep/cmd/dep
script:
- dirs=$(go list ./...)
- test -z "$(gofmt -s -l -w $(find ./* -type d -print) | tee /dev/stderr)"
- golint ./...
- test -z "$(go vet ./... |  grep -v 'refers to unknown identifier' | tee /dev/stderr)"
- dep ensure
- test -z "`for d in $dirs; do go build $d | grep -v 'no non-test Go files in' | tee /dev/stderr; done`"
- travis_wait 30 bash tools/ci.sh
env:
  global:
  - secure: fT3opomTTBV21BMcyj0QFCrtpdgG913A7MtulV/7N8/sUHCibmyKOT5pB1Y0uaPG6OqYKqOronEbBdzb6o04KbujTvPwPBfsygKMUfvLpkNOJnkelZLbKjEuL1osCeHl/kKBTxrnocGkNeuN0D3MvqvBZo7ngO9p5m5ES9iuqu4qBjVf7vciQuAd/qTyivcliv+HRgOAOp3txWdPV6682h8EOrJ8YPqu8yb+tPx6SKib0UJBOwONRlZdCBVJJ29UXoayi6MtyfIM+t/NpW6ITJfr23HpnvyHZ4xvSiJfLGOD381XWqodNOm7faAykelKVfueZEgHvSS5rMsJ3She8L83cGEHC14XKFyGudWAaRUC4iTtABD3SfGL8yfMXHs66gWskLtYb/DlO4wTpkGPEPvmZ27iUcTQ32VbzTLSfRVWcmZwYOL/MVMJKwV0iRlyV957pS6zm9ePWsXfqdsnXq8Up39BSd08o8yRIBPBO8J+60AeRq2CHvTdw4sHS/3+K0UWurJSYBYASpBUD7Rz7xoFeOnGg3hnL10G4XTm0lUvse6hmFEWHSr/f0m840+ClB42UJ8w2fvkfeGkQqB0udBWGJeZ0VSVjlUMHi9Sw7OPm+BeASsA2NFcf7MSDNt7IVtlwiMslnxu5CC9B2ga4YZ02XpTTHFXQR0Dgdmiu2E=
  - secure: Tpg8YdOjPVYc4cG1QC41JtOvz9+BtC+qNW0zZzdSa0hxJVJ+T5t0yzh/adiJS+z2pNNwoAKrmtswZ5XEc5/o9pBWTXui//yWeQ7EHBNTKQkp1YdObdUowO/aIx7cOtBGl0h57eMLSRO5VoVgZsneYqdt4UUefbcnGaXjSTwSR2s73EMt22gWBLqbfA1NTtZNCZIe789xh7c9rKlMilt17L/+glGOwMc/bh3jWhAJRbtoSEmMC4im9x0Gm1ysO++Q2Xh0ZTfulMVeP5stfdaraquI97fpstUg3CoWwHhzBrTyPRDQ5Jg9bWCCVQo0avMEEAUHK0CAoC2Xa/EMnR8PQZ4fq5AMhcSSTfAJPY0ebAy5/vcojy28sKaSLx9aU+koC7Ua5wvn5i5w2NpgH6DxlOLcltqLq4S2agsDhCWI965BbBbtSwUyAklI8rr2Q4ztjLm2Xr9L6l3422GV9Ch9PpUdc5rWHjDQIjkVFZRF/J8t+LxaYqwBxubJE5MXMVL6RC4F9VuYba5/0us9BMvvDAI+yemMoh+SH4FuUSPVBWlBkofM4Kn8D/WCzmxZsqHE/tN0arfNwaKH4mVvnnjjpsR9y4ISlaSJ56lVoVz4ArUphEQKUmTwc7p10queiDzxVovFxiU8iEAbeLHA7szKj5ZpFwAowJYDaoK2O8pe33k=
  - secure: aXCk4ozeDJz6cigHryHOhUaohpUwtp+PJJGS+DdnXV55PgsPExH0PIphBamLP40r5AwRTMfL+i/PA3xp0aeC1BNK0ZW8zmMMxoRgpTGBiksGiER5crtTg3DkDK5eU/pPMu+ptfNJ48Uoz6058yoNPBz8pr2BLy3QzmmnouIjTuZmidaPOI0YzzvWbbXXEVOmiCCpdnVfQknE5Re2uzmGapze7IuIhL/btKjmCLa40h+8uJmm6BhrwzpCnq4ivbJ4T1cNRDsugc/s2XifyzzGRdI7BZWZcqroO3bNEMdlStKfnP0eDGcfFfvBJYt2Md+Uxc4cxS2gJjps+Ls7hVKYKr+NyWzG42W1K5WchHA4z1PVNSMbRCHIm4iA3ngPYS5hMm+HXzR7Cj+YZeFgn+5lSQ4R9ckAwKXwvrhxHWngj/ij2wuyJAkORLORCMNBF+rqRn+QxA7ESfQZMkwKsV8eBGsIaAotCoWNGkh1dQ6T45Ytz91T4miQmMuU3F+jlVlVErX3ZIATK1BhiSQXi/tX+X104D++cL6VnQUeFXvjdYTeZulCarPCgvg3hwRX73a/thM/YGbX/2FKD9N/XXN6BBvFZaKcRsbRA/MXioU74S/0YZNMyj87Ychqo2LXaPaChDAqH4wPO9VS3uM30DhruAvHcyh5mte8QDuAWOmIi/4=
  - secure: BE4iiIuM02Lyk3kQgaRSzIXSbj22q7oDbNUZ1pg5nhFRFMZ1LvuJz99xL1ZBxsvdcaBYlN5f4i+xIXppHoXvY/lDdxdixOURVB9xxZzu83ASSIUnNWfV3Qf7GEwLY0am2T1YwbRCWM1zDIWcvQ1z1VWA1sLvqonc5IGadEYxclTeZLeTbaoYKfQOJYtSwT29zBqC+A64dmWhf8qQWaaE3jKhOtpHkF5QvHoMiQa7LMz4K01Yg/98AYgNM3Op/YCARlBtcyHkxMUMRfzfuEtK3xXcZNRyg7twhY0LHhLIb0uFIV11oolXGNWXyns1Am9WX6AI3WReQetcOd5j3aUi9eevInWoRAP7BfDNXtMPADhGJzfPB5XwKWMHCsxwHXg1HvMWUbiCyrBD2H3Jjs4nQFATsPt+SxcW9DHKenLgYKgecG1ym5eFWOYgOYBXzmMhpGVh2vM4ZrYZut2YjBZSih/3tX8KX80pJybwYiB1+tqOof33K+Tmi8cRoeS1EWqzDH83tpi7UORACV5BTQ3fIKL0rG/Z1C0yYsjnxfyKNWEs9k7PiUTNyiAEEMaKqsJFYa2G4Zlc2/LXvTHGkIBg0c1oLOMEe3t5LEGdtdyU0SNv/5lrqP3H/eLYjYehTxMtI8orizRFDNi4TrID3/wCuZDRJZNA6Wnn7HgpuUDiSNI=
