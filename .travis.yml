language: go
go:
- 1.9.x
- 1.8.x
install:
- go get -u github.com/golang/lint/golint
- go get -u github.com/golang/dep/cmd/dep
script:
- dirs=$(go list ./...)
- test -z "$(gofmt -s -l -w $(find ./* -type d -print) | tee /dev/stderr)"
- golint ./...
- test -z "$(go vet ./... |  grep -v 'refers to unknown identifier' | tee /dev/stderr)"
- dep ensure
- test -z "`for d in $dirs; do go build $d | grep -v 'no non-test Go files in' | tee /dev/stderr; done`"
- travis_wait 30 bash tools/ci.sh
env:
  global:
  - secure: Z8b/8Kvz2vOczZQcLoZqB/Cd1+tMkoLafLuZ9BSMKQPQxfopPIxOCkZEPG8C4McFvxo0JBIIKLhnAoijCVgMrJIerpcuWUDeshEAlowtM18NAoV8B+PCUEXvAp6dXkZ3kmiQWLu30J4mazdbyAP9VIgvf+gDybEWRfxExMEXBYVLkTbOMgz8rcxwhTfRObgDiRrXzMcr9/yzFlMmoDtB8aRIONHXgW8pA+Iba8z7RLDD3WN87Q2YWfSkCdOdMRzHBZlkzmdQUiY2ZgnccBFqljspS26uoO9FZyUKS5UnZzL0XBhbVxxht9XvgLxi6irDX6F0hnj6gKmIX3+qAPouy/do6pHQKmXF7mMjhToz/9oYVm5YpNdjEU86DJiw+zhN5H/VI5u82wDx7Bw7TZMrDOFtl8Rb8ptDFAsDPQcdW7ZB5tTTy6VeyqkkCYOAjjesRihSJk0CXwzWxqPo13tZeD3m7Xb6VdYOwsY3BFEgt/cusMWihF6uGd4w5RHt3bMVHCNrJJck7tyGVpm+H1wSAmpAjE4OtTcqr0y1chY5bjhPkcBwTOiUxHj01ZZeda3dDD5DvIBPUdc/kb0Emsc6fyD9paLmedE0EPZ3Yv1PzqS4MLdEHZZBk17RzO6yGu/6jo5oXxYEMxkywRyUK/nGsULlw3qwLQ+GugPZncy9zY4=
  - secure: Zvh7MqKEkU2YuHt+CuEQLA1qotXof9f6qAQ+BXrCd/0EgdBi8V/HGw7v+9J6V+dmPCot0DOWqzwmt5FDWRqDszB61Pqw4BMKhlfSeGTozuZHXzyx1fXl2aKLqbvKMuVj3IjPEJ+SNAj/FeYIKgCZqc8dldRKUWciZaWKEN7LRrLrqmkhDyIyY+3uYiwmAORGTAOBNGrvZaCYhNuaBVF8kgcFj4pcp7/XaCy3HGa/+s4vfBOX+zicBDZX5z4kMSRo05OI4U580/NIWXL0X764aTlB6yZBQmwC+2wHc+drLqeJN3zPCICI4UeTjLqlGuRoUq5Egff8aTSJd44X8GQiLXElaqrRElmdMhhRB7PXCdCilMKjdztpmzh6BzCblPQMffNB10pZ/PtUnKQT5lMoBf7JCxHpwG/JjRjjUrGf/dl1zRQMnpLi+og9fCTWPX0HXZbqyge18zipDgo0Ohuiz5LLgQNWqv9JmSvFAbbRQZxEz4kUlMmUts76rxF08/tSOUN8r1kcPgL3EJklFduKtcYFxM7rhNrVQ8FsoLWwkbMs0gxl99QVkGEc3TKutfsRSO0zROcnMbzYXUeHFRT5PKb2OaIoEt3YfSZNAIEHr9N1J2YOvBaRzO1mXPKAnLgUjPbVucqzgmRc/XfysOlv/oul1XFwxU0eoEymuq532X0=
  - secure: GpI5dLO/HX8EyvGLxAdidSwsmvRXUKXaqN78HnJbNUIerDdk7S4W3awyjrj6Lc03CX+EdhVcJKqYaS/N4Iegh5tPtWxNz0IA8S/yx4B/K4VH3VgbWMh4VrEyFMPgHnRK2zbp6Y1ULpj1IRPKCZq+CchtdWtfyByD6h9s/Rv4+2u7tfkh63qoebFOb6xNU8XUT6OCrmZn5s19890VjNdpV1QJEGkcJPic7DgbHVd0nySrW2L1kreMwA1KGnGppwG+dUpYF3eZVWd9q7CWhZyBabTbIy43YXNLuxQWhauxZkfwz/VXyCBES+gp3HgNxz33awoNwiRE+EzSn7mrocAKZVLW9mRmcpBSgeNAVyIOY+Jw00FIx3fic94u/zLWlAritU7/u0kYpN/tOVSIDdBxKEOW2umFaU9beUZ0pe+K2jKTyRYG2/VQprkayu6CSO62EYqJks3J6XU04+lLXqMfaq/pkyGH6oz7O3GD+nbgxHPRKRZI+5bcjDfg/FQ6zHR0Ea05mXHBEK1pD7elgDC9FhOy3D7IT/P8aJU5R//G1q6I/gqysZxU+Av3arUxB9ZHe3Z+ZLtbxfEVppgOhQ9Fk07KXTWtNz0pmtLULncueEq2AnLY6xvovGV35kahQ5ieNLO1fCuXgbtFsH14nYQUiVvJTwLjqbwGH83wFwXC5TY=
  - secure: bHE1yFZxp7XPyNJCAo1/U2Ui1mE7SgaaHWyJ4Tam3uJkiWUKwZT9KzSt1ulVQzK5DujCgP2FDazPkPyv3eg13KIP+Vg0xWAXinaqrXMWtB/uFaqHs87nuWw5QikHG0qzVMCi9ZuoOzmk0d3WYpEeb7OPSxNLrtX3Y/yksAddBhkizoGwgtWvE9+Q1oMdxCegQSFPAPgGlo8Nn7HJIm5fTLAzWxLzCO4TvtmZNVjhjRcfkRVhH/Y86W67nW+FDW+6Ms6Fn2FunGRAz7YpAXCuykkUhKaO0SZ6X08UyHiiea0eNS/+fjWJSLm7Tc/UNYi5DA8/5KccpsSXhSwJK87fUoofHpt4U8PQL5rxS5DpimTk/aTV/ttBLW5JRdZZqjA+Lo7FjooYKDsVOSi8LmwVsn3hbEXK0bQCC01bH5yuDn2aqDQpEyZr/Ag58uZsJE3EJ4u4D/GuDHsEvVO60QdudKY6wt+X8kF3igMDMtE4ocpyW+K9DkBAmKYlQuwu0OuHLf+9t/1DtTUCSQ1kjNw3PJ5WxcRB/kcRsGOO/wJZV9HxO2dEcLSr7JMWhRaexeM+4KCixhDy9W1zMPbJOUCSx84dYMNJFwfnpyLPAxYK/3YxBAqVgLKZJROWOy0EtFWVHaDvDuUQMw8qN9K9+zrg8+8yK8dH7K/HbtYoGXIaGhM=
