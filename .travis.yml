language: go
go:
- 1.10rc1
- 1.9.x
- 1.8.x
install:
- go get -u github.com/golang/lint/golint
- go get -u github.com/golang/dep/cmd/dep
script:
- dirs=$(go list ./...)
- test -z "$(gofmt -s -l -w $(find ./* -type d -print) | tee /dev/stderr)"
- golint ./...
- test -z "$(go vet ./... |  grep -v 'refers to unknown identifier' | tee /dev/stderr)"
- dep ensure
- test -z "`for d in $dirs; do go build $d | grep -v 'no non-test Go files in' | tee
  /dev/stderr; done`"
- travis_wait 120 bash tools/ci.sh
env:
  global:
  - secure: IFpRpgEI4VxYKxzia0vCVHzDn/RcLQInkS7V2hnYviS/W5Kqnl7k3EklYZysawqRS3CZ5n3cOPlsGkxCvyImetbsouLLnDRO6shH7II54TO3rkbmXaWF9a0cyxBr7QZXY8ypqiJH7DP9B5CsNkxv8ZKuf7KDMt4/Fng5u7ZLQCISq5jo08vueIhEIhMl01CJ1aIoKXBPVRBFalt5/OaJmCmgi6SdUJfuQPSsaH7kfw77syOPdad28+MZuQjGxjR+3LblhZejhlDsyOE7F6U+KD6tJ1ionzMXSUNYx17HSSEr1ifTm1mHM9PhO+NbhaeOZ8f9NJkXtj5RpRjCusdvrit9nqeSgMx0EvSmk4HNhCaTHY4HBrn0IkjeOZsjEmjddN7IJfLAwng0ofcA+0vgq7MeVRHlj1p5h5RI5gkH8BqxAh1V8IPl+qG2y/KQ02AtvSJlB+Uw+F3Yz2Q7T0NusdV7lBCcy1KriUPiQpInWlLKEa0YD3JBbWPu6v/qB5e7/Fqa1jwC4iV08dGRvlpS8GkROijNOkuxDrolI9dGm5X4ii/SIkOZm1CireA7mAw90q6iyVz+RyVXzj1kJ1R4WNP8slf2VBOKzYn3EbqbVrptLtIuNz4X6qVggqnmfF9T7iw45hvQzqxNugeYrbgs/K4kgBa/rd7RDKLsXXeP0P0=
  - secure: Wz1/VQVP7uYnCm8PEl/8de+vZNQt3UwXfnP0FQNp2tzxYAoaUGt2d4SXNSWxtRaCqdgRU/ePnAZOMPHMS2VRtv/bIqa/3pxpVcKlcRIav0cTWHC2wi/Gp0EnOFeoqDX960nqU+NJlSpdKV+8rus1ipVA6OGK328z6tJBrr3N+T4ASuZOV5E2yEHoMhGpYtD3wLqbmWjg0VVdlLuAz94Dt7KhAeRXxlRqgwCzzX3VVjDM2PUl+uTu7Da17hv6w36CfF/S4qSPWP7V/pRKIboMICjMTtSxT+yqN8hJFI6L/etRuMv9SXpteOj+7HTy9cusRdHV1Kfr6jNGaJz4W5hshtooUsXPCNdcaeDhHxANHlu2/nrsXB3D0UWEYT1rwWebUeDVITNmKMDX91rCK4iQstlJjyjuwbqeTcXMhloJG8NH9MYH6holeatwiZFce2xi40nFDOdVfUBQX8cS/rzB5mxhMPzD45QlRRJladShsQpkia7WhbtPI8XoFHjkT3v1L8wHRNUESiakPKU095iUWZR19JpfOxum7TKZe+ch5kmtPF3pjTwn8auJwuvZLkd20XQv4S+VbUt4SzqrfrukTKMOA91OTbzUWRO2/LwpKkYSQfRw62m1dgx18Z8o80erf+T5yOvxtGYZkWUAAj/Abd/rEpqLWqf7YjyxZ+2dnzo=
  - secure: pTSpFtJIeVpPF2lTM2Hp9jyDo0FCTOtOedWs+UpF9VuOCQaE5CUDOCH6BU2iS2yay8FY0zzHvJz4QIXGTvqXbDTm5d/fZV1vxnkcmyOj5iVHKW9mbPGr/HWWWuvRRAOxpYOs52Kn8GBHURalkXiQCriPEE71sxHmHcc7womb5yZjLKCSPWA/lGS4nrPByZOnNJ0rbhfL1i1J/px+dW5ax2sdPQHUPDXDA+5ulWNwmSBaFenW+V9nZoBel17OZOzsSQPg+8a/mgZh23aMfjTUBCEx1JD0P59t8kSZ3kv16xOt4RUG3NSm0s6g+av+SZMj/2n5jKJYY0wuVSrAT2nduIZw4rQdeNP3Hc/2nBSr25/v13yecmDJ/pMFKWj+H9+SZZ+HQvENFcz6ydaUf3wVxxKjaaWOzxfNYmKa61ya4bUnqjJUGDSr+OjXmmiOeQo53ZHUgJ0DT5v8mvlku8gigr8K62rJ70yI/TWVic9jNF0vWR6vdLkHjEDe6EzhtYiYwvtVrWSyEJkonivKrtmr/xpxGnVmFO+n+b0u/b4zDuXXgX+DiUny6OXavYv2NZaKuwn9Bc2rRlAjJlQ0pWM96pkekrSCwPRrLD6VBeH96DRjSHD6V4EqDogF4PDpy7W2ACi2fS3bGAclXpDn6ICOBYaSpC5KXC2JTbqgRZF+hsg=
  - secure: pNTjVb9mI+kqqKSrf171nUFXb+NX+j3ZfT+izQY833E85YThqjMLfP6r1YIcS56Jg3No8HEr6/wxNQ4vwim9LKQJq4jieH9pKc/5dYlh6pUutGuSHHA1uvhRjnHL1J2UHzUhltwMa7SQe2JXt+nKdQIKKYv0stvIxn3ZpkIBrPgGKO9mYN2nN4FmCAb8hDE59+TiQuyGVdI/SOfBZ9BWsmQp52Ai+jN/l94RxWvcqtkm3bsk5+BhSWvjaYAlTtwOtW/LsvUvC83K3BIN2HlCd6TWXiU8sUpsCNvqRE5pK4NpTVxd2daXWxdh+s2+SXq4gWv4aUF1yG8jC7MoQE2748cySp0WyqTnlwOB7+c4Uu2BOxVKhzBNnlUIXZJDZ8IDWjzhRs1XgI5u+yNdqo7Gj4SH1T6ugeYOujubA653WcBTNGPE2kBcW7QjqIHZQ7vBPibpDkHnvHaZdTA9aP4l+KXMt4QC3/+joGa8MoYtZdVjYqCqXo6DLo0hSxDfmj9s1kIEVTwGL/z1D9TGbY/ShveWt8Bm2iK8NMkGRdljt+Q3atjAE1POslUoSHFZ4K/fIIUVPDoIx2aI/fEd/8D9JW5gOXqcGmMk005FoIfX7kzvxv4cFOn6zHqZAiKq2Q7lODwkpcE2jAT1n5FHN8evrDvKkdptWjHLcWRMuAAT9Xs=
