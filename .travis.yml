language: go
go:
- 1.9.x
- 1.8.x
install:
- go get -u github.com/golang/lint/golint
- go get -u github.com/golang/dep/cmd/dep
script:
- dirs=$(go list ./...)
- test -z "$(gofmt -s -l -w $(find ./* -type d -print) | tee /dev/stderr)"
- golint ./...
- test -z "$(go vet ./... |  grep -v 'refers to unknown identifier' | tee /dev/stderr)"
- dep ensure
- test -z "`for d in $dirs; do go build $d | grep -v 'no non-test Go files in' | tee
  /dev/stderr; done`"
- travis_wait 30 bash tools/ci.sh
env:
  global:
  - secure: DAtQrseTSP6IK/hdvoySo3g4+vx1mH2EO0VohkAuzLtTl9yTeptGMupaKJipwnaqqp/TODciWEVK7OBIYy4J3BWKnmMBvV8QeswZNYVIooXKkLRSHFJccyOoMj9ATUEhTJDlqCGAcFkooopf++vPsLHll+R9jWk2rTMXwILBFd/gh8v0B46XOUlEQm+00a5SkuIROCGr9qEW15iOStCfqJSk3JIiVDUK6Js2T01FGdHABljezRYV9M5MKXQrWmNTH9bWwDHs015HWTAzUDcFn8VLx4fD+mSKcCWhHICwxyfbfeCsnW1SaafIFk9fdxGlcdKIy1Y9r6FXgOTlneglhxr/mWMFkzNOF0zV85zx2qzPizPAdlTIRPzeOec2HWUblG0NT3bh8uneEzWBeFo1NVOMtfjobdhiIRSlpOs804rGK+mV1Yp9v+ITpBojxaIwj1iJjb5AFk8LVUOWAGepWIzvo+8ZcUaSwfJCXdr/IZ5uQ3GyqZeVHWp607UxWoElD4NiNGMbjcdMsc2R3Qnq2RHylqmOl1Ep3AJGHbh9feW2yWXfoTOTTz6eYFtAukdyNNhjK07CAa5qFMPw5GP18YmjJr7ddbNSbic2IPigH2TdAjw+L6Vv+FvCf7cxfFZ05Wq88LyLkIBZjGYwZgBTPfBe13g2X+BHQScK2RgXT/g=
  - secure: TkNENTiVH9XL8U7lM78an33UyONgL1ospfsUQOcva1N/7Sqru/g3ZnH0jhNuZhV8eQDhcN8D9Pk3AjOtePD3x4h9YTsZTOeQ/ABRCrFNS5mqwzDIyoy5hTRqD2mFSjgPV0Y7rSwCBZEKR/ViapFoMph/G+9okDwQK2ICzeL/fXvQlvA63d2cy5J1T8WJVrDHxFSA+yTm3d1PvDqunfSKWRTlysopPkJW5YOO981q+30mwbzDIO3HM2xM5znPe8866lXjzlCzurwLoiyDzjpe0JjnF7acjQRB6PujryTQFjZfNukZ1T9dLdV4gei1eTkGkHQH58+8enw/vuLP/9ihfopo3VWiD6MyzLugcnxVfbM4IzidJ49EDlnlKdfBkFneB94zqGDxfv9mLKuAdG1sAtzStvFoQOjmJa4fXYqunyPuyRoRc5NxyO9E6Q3siY/VyBwJLyt64gXweGB68BnEadq0EJ5cc3Pt6spMFtf2dO1a7Yogb6ep9RL8PYQjxRfaNsCCudoWENuDoqGUBjIUv6jUS8j5gh/gnTby+tet0szod9EIc3ZtoldrV5NZcbZBKGRA3II18ZVpC00BxdxsW0MadE7cGODeiqtum6MGOlEVqlFhsTHQrYTEzOvsAW46KLkI89F+Zt0fZQe0ThM5AbR/tamO3zhoMIIDn+kE6IY=
