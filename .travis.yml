language: go
go:
- 1.9.x
- 1.8.x
install:
- go get -u github.com/golang/lint/golint
- go get -u github.com/golang/dep/cmd/dep
script:
- dirs=$(go list ./...)
- test -z "$(gofmt -s -l -w $(find ./* -type d -print) | tee /dev/stderr)"
- golint ./...
- test -z "$(go vet ./... |  grep -v 'refers to unknown identifier' | tee /dev/stderr)"
- dep ensure
- test -z "`for d in $dirs; do go build $d | grep -v 'no non-test Go files in' | tee /dev/stderr; done`"
- travis_wait 30 bash tools/ci.sh
env:
  global:
  - secure: DAtQrseTSP6IK/hdvoySo3g4+vx1mH2EO0VohkAuzLtTl9yTeptGMupaKJipwnaqqp/TODciWEVK7OBIYy4J3BWKnmMBvV8QeswZNYVIooXKkLRSHFJccyOoMj9ATUEhTJDlqCGAcFkooopf++vPsLHll+R9jWk2rTMXwILBFd/gh8v0B46XOUlEQm+00a5SkuIROCGr9qEW15iOStCfqJSk3JIiVDUK6Js2T01FGdHABljezRYV9M5MKXQrWmNTH9bWwDHs015HWTAzUDcFn8VLx4fD+mSKcCWhHICwxyfbfeCsnW1SaafIFk9fdxGlcdKIy1Y9r6FXgOTlneglhxr/mWMFkzNOF0zV85zx2qzPizPAdlTIRPzeOec2HWUblG0NT3bh8uneEzWBeFo1NVOMtfjobdhiIRSlpOs804rGK+mV1Yp9v+ITpBojxaIwj1iJjb5AFk8LVUOWAGepWIzvo+8ZcUaSwfJCXdr/IZ5uQ3GyqZeVHWp607UxWoElD4NiNGMbjcdMsc2R3Qnq2RHylqmOl1Ep3AJGHbh9feW2yWXfoTOTTz6eYFtAukdyNNhjK07CAa5qFMPw5GP18YmjJr7ddbNSbic2IPigH2TdAjw+L6Vv+FvCf7cxfFZ05Wq88LyLkIBZjGYwZgBTPfBe13g2X+BHQScK2RgXT/g=
  - secure: M/Z3A2ygCLQgmzm7Q5Hv0NfD9N0W+76xqel1rCDZa+ebGtE1uDDBOy9SdjbiYRETAwlRZQy91x9/6yfr2GKFagiRPRUtc0UuID2FpkC52S5Zo8KHJmbCU43Az9Pfjduaau1xWo77H7ieqg0EnU+ONcGJ0ZMTEyTtjKK6KqMncPwdfQ/qTcJJCzgBEQqdVuj8IqhTO0aaEGU1qx9jyeOTcW3qQrbi6Yxd/HP4c8zEgZctTFBwPYyXwqfMiX+NHezMP1+ic5pT26tAMKclN8zfhJIeJTD+9A9Tu/Dj7+bo/dP8DMGxa1tvrczCS2zUn9DDSTvKpqEnzpfA64TGoIKQRueIKhoyQ4GQX1jZ/RYdtJcIsjexJtIi3MN1mXAiXdW4g71IBZu3VxvbY/ODgbcIhn6d7xxcLsQryeghHl/LAicOKk89KlW50aPCTLzsUE6n/T85mHGjnKL5pM2RuJ7pUU87cf1iDFJWXl8yoecLvAfCYEBlrLoRFLyzzVRP9xe2msijDc0vGIg/1inBl1Op0jj9rtSTCvzXBTY+O8U6xwFODpLeuninSvPxysUlMjwCLt3lBQJeaa5CyFxdxd6chd3UAPPT/K1xlQNXT1oMmzAQvTp4EPgls/qI0t9h67VLEk8GEqIezvfRPsjDYwOKZ0SLX3NRhPUoUuVm9Plv/xY=
  - secure: mW8Qua8/SzLSwEvzk10pTiB6+yC1060XfUj5k4oETuGmXp7SY2QDDR5hct4R+kXDm3leDQi7i/4fe7IGnfSjnQhxOmEbQeMNzrqhdVpn/7H1/UOdWy0nwMoWcZ6/ylEGG5D1BD0UQcD35lkFHeuvUSjLn9WQe2Lw51EJwrHuISHXISb2JcyBxeG2/ZsltulVNWSNqbbuRhWnP5Gf7vUMUvPXEOgaM9yJ+4vlBnM0oKuPLRSHMBiWSHcJ6qRDr1BUlRWmDMngp29S83ZbMS8Kog1xyClegDlQkm/xxmRpIh5z5bCPdZXo6H0zfHcD9u0XgSASFL9J5FBgGWwN8OM9p3ljxhP7MFoLXyLFdiPqswIX7vzSNto1fFj9VmJt87EzmtWOskGrP/2C6dzLdmqREFBCj1+Fzc+QXduoU83RrFpBZvOZGpNZX+q0pgX76RV/YSr/NmqNfomAXutpDsKmd13+QN42Ii8TSGqLUJxzsHwd3WGqhaF5/lDegtVhzXU0bH4j9DX/ABn7RNkhP5IHNzI0PI9CH9T2L/grY0e47hzXp3HMF7eKRK43qjScJ4LO6xNf8mkSkn2MnaBEz0DXCc31/aRbEcZN1eb18H58ZhbMuOuLwRfRXHU/4aEbGzzZXXlYD6IqyoSI6zYdUbs20PhgY5eUTapiIE3PuKIMl4o=
  - secure: DLniTqBT4XMvvsV9vmqw/Pe9e1e6APVI754utiSmiKBEjxobq7kDeOb5zstcRDZgOacLcfA5wIumvM7NL49lN55kyEnJFTfXwnhPoxNoFrVsLsa/4hw/1vCo618RwgDiIRI/OqUlh2FDVjNOn6zxohBpe44U3siT9QIkmW+1l+e1sxU174oOS+4B+gP9ZgJhil59ycNqei5MI4PE4vXrat8CVYln7ySr7Dne6CZNdlna8w5Wv098NMXZyqbjgplfzIbVTcZnAVaAw/bks/9FBwaYwjO1N5dA7MXiTVk+bwz5J+XgkP6j40WYnf2aWGvblEt3szzppTllBFnYDlUi9Zcqvkk8pHJ9f6dmSQh0rOjlhQTSzm0LyKuDFtUidPdhlnumHTHq67OXokvNCZGPMQDZwZ/fO399o222+4BCVOrCaWOvnTRBKLZXxJAYyAbe4fAwHvDZgzhR7TVmjpBq3pL5vwIthliVEHC8OCxxkSmuWkr4LtLLyT1VvWR9uSTrYFjQjd32nLj3jtPg/8QCIpPgPmvTtYXEO2nFTEgaVA6hziwPKuQIg7gz9gAZHoXyYl2Gsp3ObOO6F+JipcyaDkzo9/ikva3QshPm+cZ3KYZL4eOuuKpOZ0O6yPZ1k9sYcMZHEAh8J2CJoLIPVO+Mj5yTnYpA5QfEEZyY+hLg+eY=
