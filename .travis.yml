language: go
go:
- 1.9.x
- 1.8.x
install:
- go get -u github.com/golang/lint/golint
- go get -u github.com/golang/dep/cmd/dep
script:
- dirs=$(go list ./...)
- test -z "$(gofmt -s -l -w $(find ./* -type d -print) | tee /dev/stderr)"
- golint ./...
- test -z "$(go vet ./... |  grep -v 'refers to unknown identifier' | tee /dev/stderr)"
- dep ensure
- test -z "`for d in $dirs; do go build $d | grep -v 'no non-test Go files in' | tee /dev/stderr; done`"
- travis_wait 30 bash tools/ci.sh
env:
  global:
  - secure: tkFnZm5YgNfIpiQHuH6vyJadD5AzOT2l5mx/xtcjJH7xxgT6IaO9e4SAA9jrtSUSNoIcnzJgAfoNoxen74Pd3Fo4JYbwiPKVqYzc5mjmy0BYEPH0A8yBbguPA7gzhZJDTheimm5gcM7s/c4fu5GZi6XdfXCi6b0LSvZQejsImUgxEsx+t6Dtwy4fM17r4oiCW2uE1Jp+Nk5UhTVqbBS9nsEqhKJcghaPkwNUDY8yPLeCdomEaIODtfiHovvYHqn2fzC4h5P4dKr/tKLRgQWS/3/Hla1UEiLDh6qh1zYfxW74ncz/FeXzgXUH8vhIKPLih4gaw79YfOPv6tc8hDZ9cJHhGxSO/AN+GRTmb3P49fgoiMAUDRu7285T7In6w4jKUnRPrbwN2og9Nt4t/iEWNtQ3UqOAnY0RImwBJsA5QaNDfQHyYqiWwqG3k+6y84RId07YKNW1kf5c64xdfCSFgiNrLjN6KjhqkYVLAHru03X0vT5eZRYoqudafGcjAfIweI3vfobHrq/4iyjPewCqJunm1YyNkSmdFBqqF5jm/suwPQwZpr2yucafatX7h7hIq9+YgCzXtKvSABGKHrpA/E8k2Z+OpyPfJaEZDFn4sl2CCEz0bpAVobEL7fHMKdfJA46dVqQfiOdZMycLVFYc7Xf//ZbCADwITnR2IJgdkF0=
  - secure: GiLsT/nLPI5L8RzZjHlfnpUIC8ovIIMvSZMGbk/vX85VZ8u/l8AqEdjJcK4p5QvZSM5FCJwz5qEdhwb8QNFmzPHEjRdPzIjXKbSj+kmRGb2StunSixYQLEOtDFvfTysTF3hIBRizM1VLRFUwb/vnTOxvrN0l1PvsEQmuGSw3mbjVuO2oRJ/YDupOYeQ1CwWQMi7KuuJOsbDrRaIACa2w5my6UMpbyUvebKyEBn5gkFNyKnpV87wTgb9HSiNZYXSoGJRmwJkL2ajd0gZ3fj3dnmLXxTj1q/eKwzVqIQ0PMpVvTBF3ta0K7vqwCBKtgKoqvc3G6yFGu/fraZEExUFDa1E/vAp0Zxg7E8r1WZYBk81eGdZETCuPGlZSs7FQ8Wd8pDfSFQRzr3EfvdcnHsciAvyaU9DzXQONQJ4zAS3Ml830xfe+hZkpztRakd7QS8FMJjF02+05fDmVUE1afklsXYsgMUv4alsFkvcWnMwQArI1H/YTxJ8eiNGL8JfTUl63h760QsI59yoewYgbnyJ5gwPQpKwXF8cPk3kpXwULXid31EiUvBrlDRYotWERaYAX3TLAT611igaXn2F7VjFOGTHqW3JJZCkSXdz0ekbL3ZgTQTeM6k8zP2CJ5Hw7xRM+12wE5aUcybYMYJmAc7mTZoFGpmyMIb9OTfxbjkqJEOU=
  - secure: ou6eoCuptiDUBiinjHABdhXbYoIAhLYYEmzF1zu3bAdqXeB1jpZhwo/sldB8wXcPrUMHxnxGdnZAYv6WyLoZ83fzqPmexphQJzYfCYEJpzVlvwkjPlQY11AWWKHm9/xzoKQTOFO0Tuq5S8jN1jCNuE+x2nXvZa90imfDZcirT8hQBmg73ZBPhgTL1l9NeZa54d2T6SDpHwkBV6xNCOs9ShmceCE6BeE3J6awOmYlYxaIY2x9dfUcgrXZ71mLA+tUA07QJPjVES33xqaATC/8yLxvatZz3mRG4Z/HTWD8GMv1Wg955Nba+Rm9D00d3R1SyVin+dLXx+TqvXctAwOr+4D6S568gEVfRv4QqYgNUMtvLVW30M93ciSw67qLmHpKlSFb02H1RbXvGVVGg5DEoeqVyiUr57+9AwXQOw7HtvzEp0+03WJhI1hgyo5BXzDd5ICPmP3amhsJ36TeZt0Oib8ciphm1cGlGbcWz/CrL1oTG7Pjr++QtH9wrpQDlBfMcfPCTTerBK9MRD5pgPGDFJTZ5oncres/GfaTwmYqgPL9qdq97IZtzMc3xq26SovJOxkmTulKofSRcmQZSeRFKDqwl9cMWN5EGBzzCaRzUF28rRM3Vvfu1a/BxBEyrO9KKI141vv30vL8ic07DYWa2ELfKrBtmNkLFI0NrAM1xZE=
  - secure: LznQz8S3OgzX1XC/9UV4754IWOddsIeUojUt+1+0iudOdcL3dxEoZ9TMOvxOazmgALK4/sUack+LyIj7nOuvx6G45UG5sEpatbT5wcxPEgOhCddWN9xCF1REUlQ7vJWN2iRE2JMQ9zwjPJbWzDfmX2rwMGRpg8QIEJVHcpZYW7pmFQsPKV0BqKNgjj2ufy3yqmHdcpfRRgd2jWq/WaqO3M5R1SLlSDnaakRJLxHorlRoDzWAoPidCPzYfUU/YorPUtBASdf96mlNLOqis489/m/QvIqjYPPnta6B1Jzu72wJ8bOX+r3c2/N8KrePb2tLPVM5oaaxaPmYpGCYBVnt6nQzFr5me0ZYu1ZEp7F1IlymfLHyLc26Ox6lGGsEC3CArXlt/IpiiS4nRSgF30tzkr83btZboKsAHWVBnxGlZ+z8VkpYwYG6YxroqqVIvnEgt3a+r2mnAxqX7NMAFUMXYrslgX/rW6w0+CCOj8XyeIiE57ar8ULRZi0/AU8BuqTWu1vFOli4pVFpeu3C3X9wOb0py2+dfN1+bzoqQpg6kjLNbOOk+OAiFAqb7BoS5Wm3tFlVFP+qOzsbnmsPSCjOj7YgJQ5Q/YinRMeZzgIaGu+VFFeGaNT4DlQHS77aNraZtcwDdVUjuZzesESoyNYKk/9UYoQQT14orlIjnSTzFgk=
