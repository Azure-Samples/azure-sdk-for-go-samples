language: go
go:
- 1.9.x
- 1.8.x
install:
- go get -u github.com/golang/lint/golint
- go get -u github.com/golang/dep/cmd/dep
script:
- dirs=$(go list ./...)
- test -z "$(gofmt -s -l -w $(find ./* -type d -print) | tee /dev/stderr)"
- golint ./...
- test -z "$(go vet ./... |  grep -v 'refers to unknown identifier' | tee /dev/stderr)"
- dep ensure
- test -z "`for d in $dirs; do go build $d | grep -v 'no non-test Go files in' | tee /dev/stderr; done`"
- travis_wait 30 bash tools/ci.sh
env:
  global:
  - secure: t8aoySECd6abEUE4cU8+2JXYdYBTeUlluZLhG8sbYz6fW/2DpklEDYl0UOBo1j3qNN+gMdzpTTTTcTNDfznJtHQ5RgWD420xJqkxPxY3dfFyaXtWFQrAk7VdI/yKydiYjUJ2DGVc2POfmifFtFYmwuhT7I2jgReWdOiW0QkzerwX3SLinCpKy9LbZ5SX3dGPnMWaAF0LSciTYKtkaRRuNaKZVdH1LFBnwP0C5lOpRCOExeqTfvlRr9399DbTR4mD1lZTO9kcNa2nPGZ9H0sftAQvrHW5UFAQIPMNWXB3JNVke/y7q3g9JWBBx4eLGZfKw+299jC4kor77vmExf92RGoCutPg/n1b1RNQtGq3G/8KyKZSgD5mTpuWbemFRg1aq6FUMGf6koAXL/e8p6hyVZ+O+wsx2GLaWoGQsLjVpfk23tFafiAULA93pE7bT7YL/KgPo0RjlasIDHNPVul/DkM7MZP6RvtMJRWN/MlzU40eGrU4cW6D28jspfkqI2c9JSjoj3vEgdZY39869wwYDlu7ECPhcS/MPTsts5YxMWDIQbYvNSsb5CFKog+82iiq+8j3H+Ub/E+bo/fbhDLQ5DU6f3Kv8PeSp95+RgYPobLLtDWML2aaKVx1Ioo2EBAcPCP7jzMRUlEPLuBQ2nU3CntFEL4dQ3rIdMJcQMsDNGU=
  - secure: BC292EXPN72qz0fkwurISoVpNNPDTrzcOXDvu3wjuYnVnWqLuBztKxfsiAcLAa9RsezfkPRkT4oSKgKb+GnAPZ3wlFwusR1ZzMAemlPwnoXLgAWCl40Llet0O+vS3GBroLXA6rqMxjC1YfATzDoflAZQcPH7g3wqqIOzAhUIoyqvy1QYwEpjTRw2tTigKw856y+pcNwH3tkBDh6tRD6eVYlWHCEOwbyrODlirm3Yl6xZSYwsFfl8CEGk14Bs40ZVyviNpcZ4Qtqemqehs/MnIZJvou4Y74kZCcWFVQxR/M3ciaTp01IUNn40axH+J+fM8+Osj5wi1Xa7nevXLOCyXWVDtpamqkeGpCFTd6I50saR+0QIPdQv3eahV9mGmS99m1YQdaofx11IgHWp0+Bsopk1GTlbMwC6KIEsotlJDo8v2L0xi5LbjyPF46Fyc5pqF8olbN8seyJhnfnqe3bXGMcwCDs3EymF+tgpAh1AwuvD371vluoGpDWXEa0KaGy+JhiB14DRqJSXIhhN31XWDhaiLQ0IzBUgduc0nZVtmzVBuXQ5qpKbpOjBzwHDP8leEMnjCYMFSw6GRbznOH/Xx1fEIXX8KpG/5WyTYoVIOrno8mTA/jocAvn6LNCuThn5Ld/IhNty6j9CZWGHmSH+IieUZZ4xHOjVgee7NHmUjBE=
  - secure: tdHBkxczuuHN+0fc6vcZG1UAE1mWeQ6z+FE5krlTgVnNPCCitXN5fUCjlSq4R09lJrUgRtIWlElj1Us+1hsAhha+0bBr6cfTc/uq3hAe8ni2/YIH/iIIYsIanXluV9ZvG0rksEx8T7Q556cHvwZKzh5r1piLj2f+N7vF0VkEugrZ/iiXGf1b6vpsZi8WGI4zDObz2Cm3CbMxWAgMDlbGAnUImxs+62DPvtxa7NIbJArD+o50QhMpelMB2UgNQojPkKuDLTHlKQuVSu4N6qxCe2An3oYkgm0OgDZ89V3Ijoownz2gfimd5wqkG4QsjW7BlK9+hEeh+6ETr+Ido5IWcyJnje+HbdzFLWRT5KXBKmSS8huDvNB9Mb1GYaBSiPBpUK+++ZOtDG+IwGFyooMRKJSrR1FQCbJSp/2NYXImHHP/Leu22rqytCqU24Htovk1b6mveDlgGz4kb65yOLGDHhfgwvj5wz1xe/w/oCoiRuaRXW97s+qUlK/E9DFy5mvnzO85nB20WrBZHUS/rP1zkdN2LosuqY5ouLz9NZel/yj1OFA8ggWmblvPHhfjC6P6Aj1fnAcJ2dHjLbBHCIBnJ/3BYJ5eGtL4ni1Exk3EGN9YGuApBMOeCAhrTmN6mPXrWwXr+3iiLoc36i5N6POcPyv5aC+En7qZcCp7u+v5iIY=
  - secure: VTasF//ySitqvx/mlj9JpDumeaDCq1wuXmv/Ob5B1dcANqVXmgCCKsr34Uzksur4/25yZ2W5nms0LBwoR6Px7zhebjeNiI+yCaXk2poipVXnjfTrXqIwxwxEsjO/Jv/4SFp5v0K/+mnazcuJVwj0ngnPDX6RnS9Ra699I81An52+OgX/d2gTxNzGgDxU4VkU2h21U9QahWxoVkKAbNNDg9b+G0N0oZPVqcDaG8SFujLKoCQrKLq4dYiV661vW/HHnM2XMmKebfZtFok9A4JjS79bdmnFexToOb775qVqna6Wy73TPmWjjZYSf8X7KVuQjJgNoZKUiMgz9OcMlBsbMWr70zInPcqLqW9CupfSz4/tlloiIalNrJw8lHS8B0DnKEzIelfBnitGFXC5uhgMi8WO+gM0qm5IRkbvAKN9jf+1EQ7xK1bEV8yOmxKuSJ8Y/Hi4J8WHRk5kPpiWCflCgifdkW1hw+4khXRnX/IidWcaqmfRBrhh5Ocr/PvU4odbk47bSVUkeF225x8qDXnzpTHsMd+wpMczsJMNk3lHiO3e9Ysax4j5G3/RUC7mgezfo49Z+7xjwM4E9YcVWKpGAQYMKJ6LiYT7Hn+1nQNP6Qq3wQyl0FLD52I4JQ2kiWf0+Kd3ZV+KPPF0VNqOVUq4tOb33fQWLhQV/1gHn1jHBog=
